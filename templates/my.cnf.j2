# {{ ansible_managed }}

[mysqld]
user={{ mysql_user }}
pid-file={{ mysql_pid_file }}
socket={{ mysql_socket }}
port={{ mysql_port }}
basedir={{ mysql_basedir }}
datadir={{ mysql_datadir }}
tmpdir={{ mysql_tmpdir }}
lc-messages-dir={{ mysql_lc_messages_dir }}
# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links={{ mysql_symbolic_links }}
{% if mysql_skip_external_locking %}
skip-external-locking
{% endif %}
# Instead of skip-networking the default is now to listen only on
# localhost which is more compatible and is not less secure.
bind-address = {{ mysql_bind_address }}
key_buffer = {{ mysql_key_buffer }}
max_allowed_packet = {{ mysql_max_allowed_packet }}
thread_stack = {{ mysql_thread_stack }}
thread_cache_size = {{ mysql_thread_cache_size }}
# This replaces the startup script and checks MyISAM tables if needed
# the first time they are touched
myisam-recover = {{ mysql_myisam_recover }}
query_cache_limit = {{ mysql_query_cache_limit }}
query_cache_size = {{ mysql_query_cache_size }}
log-error = {{ mysql_log_error }}
expire_logs_days = {{ mysql_expire_logs_days }}
max_binlog_size = {{ mysql_max_binlog_size }}

{% if mysql_innodb_enabled %}
# innodb
innodb_buffer_pool_size = {{ mysql_innodb_buffer_pool_size }}
{% if mysql_innodb_file_per_table %}
innodb_file_per_table
{% endif %}
{% endif %}

[mysqld_safe]
socket = {{ mysql_socket }}
nice = {{ mysql_nice }}
{% if mysql_mysqld_safe_syslog %}
syslog
{% endif %}

[mysqldump]
{% if mysql_mysqldump_quick %}
quick
{% endif %}
{% if mysql_mysqldump_quote_names %}
quote-names
{% endif %}
max_allowed_packet = {{ mysql_mysqldump_max_allowed_packet }}

[isamchk]
key_buffer_size = {{ mysql_isamchk_key_buffer_size }}
